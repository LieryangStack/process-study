# 进程学习笔记

## 1 进程间通信分类

### 1.1 System V IPC

引入了三种主要的通信机制：

1. **消息队列（Message Queues）** - 允许进程发送和接收消息。
   
2. **信号量（Semaphores）** - 用于进程间的同步，如互斥和条件变量。
   
3. **共享内存（Shared Memory）** - 提供了一种非常快速的通信方式，进程可以直接访问同一块内存空间。

这些机制都通过IPC键（key）来识别，这个键与内部标识符（ID）相关联。



### 1.2 POSIX IPC

#### 消息队列 (Message Queues)
消息队列允许进程以消息的形式交换数据。它们提供了以下优点：

- **异步通信**：发送者和接收者不需要同时在线。

- **解耦进程**：进程可以独立于其他进程进行工作，通过消息传递交互。

- **系统级队列**：即使发送进程终止，消息也可以保留在系统中。

#### 共享内存 (Shared Memory)

共享内存是一种高效的通信机制，其特点包括：

- **数据共享**：不同进程可以直接读写同一块内存区域。

- **性能高**：避免了数据复制，因此速度非常快。

- **同步要求**：必须使用互斥量或信号量等机制来避免访问冲突。

#### 信号量 (Semaphores)

信号量主要用于两个方面：

- **资源管理**：确保同时只有一个进程可以访问共享资源。

- **进程同步**：可以使一个进程在特定条件下等待另一个进程的信号。

#### 互斥量 (Mutexes)

互斥量是用于以下用途的同步机制：

- **互斥访问**：确保同一时刻只有一个线程可以访问某个资源或代码段。

- **防止竞态条件**：在临界区内安全地执行线程，避免数据损坏。

#### 条件变量 (Condition Variables)

条件变量与互斥量联合使用，用于：

- **线程同步**：允许线程在某个条件成立之前挂起，而当条件成立时被唤醒。

- **等待通知模式**：通常用于生产者-消费者问题，等待资源变为可用。

#### 读写锁 (Read-Write Locks)

读写锁用于解决多线程的读写问题：

- **读者优先**：允许多个读者同时读取资源，但写者必须互斥访问。

- **写者优先**：确保写者有优先权进行写操作，防止写操作饥饿。

### 1.3 主要区别

- **命名方式** - System V 使用数字键，POSIX 使用字符串名字。
  
- **接口和使用** - POSIX IPC接口通常更简单，更现代。
  
- **资源管理** - POSIX IPC有更好的资源管理，可以自动删除对象。
  
- **标准化** - POSIX IPC 在各个UNIX-like系统上的行为更一致。


## 参考

[Linux之进程间通信：https://blog.csdn.net/qq_52433890/article/details/125101333](https://blog.csdn.net/qq_52433890/article/details/125101333)